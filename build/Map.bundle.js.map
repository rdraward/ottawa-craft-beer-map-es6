{"version":3,"sources":["webpack:///webpack/bootstrap 51f126ce27c74ffbbe7a","webpack:///./src/Map.js","webpack:///./src/BrewMap.js","webpack:///./src/components/User.js","webpack:///./src/components/Marker.js","webpack:///./src/properties/map-props.js","webpack:///./src/mapsApi/mapsService.js","webpack:///./src/components/Brewery.js","webpack:///./src/utils/infoBox.js","webpack:///./src/utils/bounds.js","webpack:///./src/utils/distance.js"],"names":["initMap","window","BrewMap","brewpubsHidden","breweries","controls","google","maps","ControlPosition","BOTTOM","push","setupCustomControls","nearbySearch","location","lat","lng","keyword","radius","populateMap","bind","navigator","geolocation","getCurrentPosition","userPos","position","coords","latitude","longitude","user","addUserMarker","console","log","error","baseBreweryInfo","status","pagination","places","PlacesServiceStatus","OK","breweryExtras","breweryRecommendations","find","b","placeId","indexOf","i","place_id","splice","length","hasNextPage","nextPage","customControls","document","createElement","className","appendChild","setupClosestBreweryButton","setupBrewpubFilter","closestBrewreyButton","type","value","onclick","filter","checkbox","checked","id","onchange","applyBrewpubVisibility","label","htmlFor","createTextNode","state","toggleBrewpubVisibility","User","marker","Marker","icon","title","map","addListener","setZIndex","MAX_ZINDEX","action","styledBrewMap","iconBase","ottawaLatLong","initGMap","initGService","Map","getElementById","center","zoom","minZoom","clickableIcons","mapTypeControlOptions","mapTypeIds","mapTypes","set","StyledMapType","name","setMapTypeId","service","PlacesService","Brewery","baseInfo","extraInfo","isBrewpub","brewery","createMarker","bindBreweryAndInfoBox","info","geometry","infoboxContents","requestAdditionalInfo","getDetails","place","recommendation","brewpub","setVisible","drawInfobox","formatDetails","infobox","content","close","InfoWindow","open","breweryFeature","currentDay","getCurrentDay","openClass","opening_hours","open_now","openHours","weekday_text","writeWeekdayLine","infoBox","website","vicinity","formatted_phone_number","writeRecommendation","recDivText","splitRecommendation","split","weekdayText","date","Date","getDay","limitMapScroll","createLatLng","allowedBounds","LatLngBounds","lastValidCenter","getCenter","event","contains","panTo","LatLng","findNearestBrewery"],"mappings":"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","file":"Map.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 51f126ce27c74ffbbe7a","import BrewMap from './BrewMap';\r\nimport {\r\n    initGMap,\r\n    initGService\r\n} from './mapsApi/mapsService';\r\n\r\nconst initMap = () => {\r\n    initGMap();\r\n    initGService();\r\n    new BrewMap();\r\n}\r\n\r\nwindow.initMap = initMap;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Map.js","import User from './components/User';\r\nimport Brewery from './components/Brewery';\r\nimport {\r\n    map,\r\n    service\r\n} from './mapsApi/mapsService';\r\nimport {\r\n    createLatLng,\r\n    limitMapScroll\r\n} from './utils/bounds';\r\nimport {\r\n    ottawaLatLong\r\n} from './properties/map-props';\r\nimport\r\n  findNearestBrewery\r\nfrom './utils/distance';\r\n\r\nexport default class BrewMap {\r\n\r\n    constructor() {\r\n        this.brewpubsHidden = false;\r\n        this.breweries = [];\r\n\r\n        limitMapScroll(map);\r\n        map.controls[google.maps.ControlPosition.BOTTOM].push(this.setupCustomControls());\r\n\r\n        // make the request to get the brewery data on load\r\n        service.nearbySearch({\r\n            location: createLatLng(ottawaLatLong.lat, ottawaLatLong.lng),\r\n            keyword: 'brewery',\r\n            radius: '50000'\r\n        }, this.populateMap.bind(this));\r\n\r\n        // add personal location - GET ME TO CLOSEST BEER\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(position => {\r\n                const userPos = {\r\n                    lat: position.coords.latitude,\r\n                    lng: position.coords.longitude\r\n                };\r\n                this.user = this.addUserMarker(userPos);\r\n\r\n            }, error => console.log(error));\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Add the user to the map\r\n     */\r\n    addUserMarker(userPos) {\r\n        return new User(userPos);\r\n    }\r\n\r\n    /*\r\n     * Callback from getting the initial brewery data\r\n     */\r\n    populateMap(baseBreweryInfo, status, pagination) {\r\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n            for (let i = 0; i < baseBreweryInfo.length; i++) {\r\n                const breweryExtras = breweryRecommendations.find(\r\n                    b => b.placeId.indexOf(baseBreweryInfo[i].place_id) != -1\r\n                );\r\n\r\n                if (breweryExtras) {\r\n                    this.breweries.push(new Brewery(baseBreweryInfo[i], breweryExtras));\r\n                } else {\r\n                    // remove extra results\r\n                    baseBreweryInfo.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            if (pagination.hasNextPage) {\r\n                pagination.nextPage();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add custom map controls\r\n     */\r\n    setupCustomControls() {\r\n      let customControls = document.createElement('div');\r\n      customControls.className = 'custom-controls';\r\n\r\n      customControls.appendChild(this.setupClosestBreweryButton());\r\n      customControls.appendChild(this.setupBrewpubFilter())\r\n\r\n      return customControls;\r\n    }\r\n\r\n    /**\r\n     * Build button to display path from user to closest brewery\r\n     */\r\n    setupClosestBreweryButton() {\r\n      let closestBrewreyButton = document.createElement('input');\r\n      closestBrewreyButton.type = 'button';\r\n      closestBrewreyButton.className = 'closest-brewery';\r\n      closestBrewreyButton.value = 'Bring me to the closest brewery!'\r\n      closestBrewreyButton.onclick = () => {\r\n        findNearestBrewery(this.user, this.breweries);\r\n      }\r\n\r\n      return closestBrewreyButton;\r\n    }\r\n\r\n    /*\r\n     * Build and enable the brewpub filter button\r\n     */\r\n    setupBrewpubFilter() {\r\n        let filter = document.createElement('div');\r\n        filter.className = 'brewpub-filter';\r\n\r\n        let checkbox = document.createElement('input');\r\n        checkbox.type = 'checkbox';\r\n        checkbox.checked = this.brewpubsHidden;\r\n        checkbox.id = 'brewpub-filter-check';\r\n        checkbox.onchange = () => {\r\n            this.brewpubsHidden = !this.brewpubsHidden;\r\n            this.applyBrewpubVisibility(this.brewpubsHidden);\r\n        };\r\n\r\n        let label = document.createElement('label')\r\n        label.htmlFor = 'brewpub-filter-check';\r\n        label.className = 'roboto';\r\n        label.appendChild(document.createTextNode('Hide brewpubs'));\r\n\r\n        filter.appendChild(checkbox);\r\n        filter.appendChild(label);\r\n        return filter;\r\n    }\r\n\r\n    /*\r\n     * Toggle brewpub visibility\r\n     */\r\n    applyBrewpubVisibility(state) {\r\n        for (let i = 0; i < this.breweries.length; i++) {\r\n            this.breweries[i].toggleBrewpubVisibility(!state);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/BrewMap.js","import Marker from './Marker';\r\n\r\nexport default class User {\r\n    constructor(userPos) {\r\n        this.marker = new Marker(userPos, 'small-beer.png', 'Your current location!');\r\n        // will do something with this in the near future\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/User.js","import {\r\n    iconBase\r\n} from '../properties/map-props';\r\nimport {\r\n    map\r\n} from '../mapsApi/mapsService';\r\n\r\nexport default class Marker {\r\n    constructor(userPos, icon, title) {\r\n        this.marker = new google.maps.Marker({\r\n            position: userPos,\r\n            map: map,\r\n            icon: iconBase + icon,\r\n            title: title\r\n        });\r\n        // mouseover icon brought to front\r\n        this.marker.addListener('mouseover', () => this.marker.setZIndex(google.maps.Marker.MAX_ZINDEX + 1));\r\n    }\r\n\r\n    addCallback(type, action) {\r\n        this.marker.addListener(type, action);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Marker.js","export const styledBrewMap = [\r\n  {\r\n    \"featureType\": \"landscape.man_made\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#8dd3c7\"\r\n      },\r\n      {\r\n        \"lightness\": 75\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"landscape.natural\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#b3de69\"\r\n      },\r\n      {\r\n        \"lightness\": 65\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"road\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"visibility\": \"simplified\",\r\n        \"color\": \"#ffffb3\"\r\n      },\r\n      {\r\n        \"lightness\": 25\r\n      },\r\n      {\r\n        \"weight\": 1\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"featureType\": \"water\",\r\n    \"elementType\": \"geometry\",\r\n    \"stylers\": [\r\n      {\r\n        \"color\": \"#80b1d3\"\r\n      },\r\n      {\r\n        \"lightness\": 10\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport const iconBase = 'icons/';\r\n\r\nexport const ottawaLatLong = {\r\n    lat: 45.3815,\r\n    lng: -75.7072\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/properties/map-props.js","import {\r\n    styledBrewMap,\r\n    ottawaLatLong\r\n} from '../properties/map-props';\r\n\r\nexport let map = null;\r\nexport function initGMap() {\r\n    if (!map) {\r\n        map = new google.maps.Map(document.getElementById('map'), {\r\n            center: ottawaLatLong,\r\n            zoom: 12,\r\n            minZoom: 11,\r\n            clickableIcons: false,\r\n            mapTypeControlOptions: {\r\n                mapTypeIds: ['roadmap', 'satellite', 'hybrid', 'terrain', 'brew_map']\r\n            }\r\n        });\r\n\r\n        map.mapTypes.set('brew_map', new google.maps.StyledMapType(styledBrewMap, {\r\n            name: 'BrewMap'\r\n        }));\r\n        map.setMapTypeId('brew_map');\r\n    }\r\n}\r\n\r\n\r\n// set up singleton for service\r\nexport let service = null;\r\nexport function initGService() {\r\n    if (!service) {\r\n        service = new google.maps.places.PlacesService(map);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mapsApi/mapsService.js","import Marker from './Marker';\r\nimport {\r\n    service\r\n} from '../mapsApi/mapsService';\r\nimport {\r\n    drawInfobox,\r\n    formatDetails\r\n} from '../utils/infoBox';\r\n\r\nexport default class Brewery {\r\n    constructor(baseInfo, extraInfo) {\r\n        this.isBrewpub = extraInfo.isBrewpub;\r\n        this.baseInfo = baseInfo;\r\n        this.extraInfo = extraInfo;\r\n        if (extraInfo.icon) {\r\n            this.brewery = this.createMarker(baseInfo, extraInfo.icon);\r\n            this.bindBreweryAndInfoBox();\r\n        }\r\n    }\r\n\r\n    createMarker(info, icon) {\r\n        return new Marker(info.geometry.location, icon);\r\n    }\r\n\r\n    bindBreweryAndInfoBox() {\r\n        this.brewery.marker.addListener('click', () => {\r\n            if (!this.infoboxContents) {\r\n                this.requestAdditionalInfo(this.baseInfo.place_id);\r\n            } else {\r\n                drawInfobox(this.infoboxContents, this.brewery.marker)\r\n            }\r\n        });\r\n    }\r\n\r\n    requestAdditionalInfo(placeId) {\r\n        service.getDetails({\r\n            placeId: placeId\r\n        }, (place, status) => {\r\n            if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n                this.info = place;\r\n                this.infoboxContents = formatDetails(this.info, this.extraInfo.recommendation);\r\n                drawInfobox(this.infoboxContents, this.brewery.marker);\r\n            }\r\n        });\r\n    }\r\n\r\n    toggleBrewpubVisibility(state) {\r\n      if(this.extraInfo.brewpub) {\r\n        this.brewery.marker.setVisible(state);\r\n      }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Brewery.js","import {\r\n    map\r\n} from '../mapsApi/mapsService';\r\n\r\n// ensures we only have a single infobox open at a single time\r\nlet infobox = null;\r\nexport function drawInfobox(content, marker) {\r\n    if (infobox) {\r\n        infobox.close();\r\n    }\r\n    infobox = new google.maps.InfoWindow({\r\n        content: content\r\n    });\r\n\r\n    infobox.open(map, marker);\r\n}\r\n\r\n\r\n/*\r\n * Format the text contained in the info box\r\n *\r\n * @param {Object}\r\n *\t\tbreweryFeature - hopefully self-explanatory (the json to format)\r\n */\r\nexport function formatDetails(info, recommendation) {\r\n    const breweryFeature = info;\r\n    const currentDay = getCurrentDay();\r\n    const openClass = breweryFeature.opening_hours.open_now ? 'open' : 'closed';\r\n\r\n    let openHours = \"<div><p class='remove-margin'>\";\r\n    for (let i = 0; i < breweryFeature.opening_hours.weekday_text.length; i++) {\r\n        if (currentDay === ((i + 1) % 7)) {\r\n            openHours += \"</p><p class='\" + openClass + \" remove-margin'>\";\r\n            openHours += writeWeekdayLine(breweryFeature.opening_hours.weekday_text[i]);\r\n            openHours += \"</p>\";\r\n        } else {\r\n            openHours += writeWeekdayLine(breweryFeature.opening_hours.weekday_text[i]);\r\n        }\r\n    }\r\n    openHours += \"</p></div>\"\r\n\r\n    const infoBox = \"<div class='info-box'>\" +\r\n        \"<h3>\" + breweryFeature.name + \"</h3>\" +\r\n        \"<div id='contact-box'>\" +\r\n        \"<a href='\" + breweryFeature.website + \"' target='_blank'>\" + breweryFeature.website + \"</a>\" +\r\n        \"<p>\" + breweryFeature.vicinity + \"</p>\" +\r\n        \"<p>\" + breweryFeature.formatted_phone_number + \"</p>\" +\r\n        \"</div>\" +\r\n        \"<div id='hours-box'>\" +\r\n        \"<p><b>Hours:</b></p>\" +\r\n        \"<p>\" + openHours + \"</p>\" +\r\n        \"</div>\" +\r\n        \"<div id='recommendation-box'>\" +\r\n        \"<p><b>Recommendation:</b></p>\" +\r\n        \"<p>\" + writeRecommendation(recommendation) + \"</p>\" +\r\n        \"</div>\" +\r\n        \"</div>\"\r\n    return infoBox;\r\n}\r\n\r\nfunction writeRecommendation(recommendation) {\r\n    let recDivText = 'Coming Soon!';\r\n\r\n    if (recommendation) {\r\n        let splitRecommendation = recommendation.split(';');\r\n        recDivText = splitRecommendation[0] + \"<br> \" + splitRecommendation[1] + \"<br><br> \" + splitRecommendation[2];\r\n    }\r\n\r\n    return recDivText;\r\n}\r\n\r\nfunction writeWeekdayLine(weekdayText) {\r\n    return weekdayText + \"<br>\";\r\n}\r\n\r\nfunction getCurrentDay() {\r\n    const date = new Date();\r\n    return date.getDay();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/infoBox.js","export function limitMapScroll(map) {\r\n    // bounds of the desired area\r\n    const allowedBounds = new google.maps.LatLngBounds(\r\n        createLatLng(45.14115518089034, -76.15005880565646),\r\n        createLatLng(45.51227041310074, -75.08660896976092)\r\n    );\r\n    let lastValidCenter = map.getCenter();\r\n\r\n    google.maps.event.addListener(map, 'center_changed', () => {\r\n        if (allowedBounds.contains(map.getCenter())) {\r\n            // still within valid bounds, so save the last valid position\r\n            lastValidCenter = map.getCenter();\r\n            return;\r\n        }\r\n        // not valid anymore => return to last valid position\r\n        map.panTo(lastValidCenter);\r\n    });\r\n}\r\n\r\nexport function createLatLng(lat, lng) {\r\n    return new google.maps.LatLng(lat, lng);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/bounds.js","export default function findNearestBrewery(user, breweries) {\r\n  console.log(user);\r\n  console.log(breweries);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/distance.js"],"sourceRoot":""}